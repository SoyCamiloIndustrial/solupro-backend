<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Comprar Curso - Marca Personal</title>
</head>
<body>

<h1>Comprar Curso - Marca Personal</h1>

<div id="checkout"></div>

<script>
async function loadWompi() {
  try {
    const response = await fetch("/api/signature");
    const data = await response.json();

    const script = document.createElement("script");
    script.src = "https://checkout.wompi.co/widget.js";
    script.setAttribute("data-render", "button");
    script.setAttribute("data-public-key", "pub_prod_i80UNdXv69FRkesjzaKNMyUHvNnDb5Mu");
    script.setAttribute("data-currency", data.currency);
    script.setAttribute("data-amount-in-cents", data.amount);
    script.setAttribute("data-reference", data.reference);
    script.setAttribute("data-signature-integrity", data.signature);

    document.getElementById("checkout").appendChild(script);

  } catch (err) {
    console.error("Error cargando firma:", err);
  }
}

loadWompi();
</script>

</body>
</html>
